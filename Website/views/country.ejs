<!-- views/countries.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Country Selector</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        select {
            padding: 8px;
        }

        button {
            padding: 10px;
            background-color: #4caf50;
            color: white;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Select a Country</h1>
    <% console.log("Value of data in country.ejs: ", data); %>

    <form action="/filter-cities" method="post">
        <label for="country">Choose a country:</label>
        <select id="country" name="country">
            <% if (data && data.length > 0) { %>
                <% data.forEach(item => { %>
                    <option value="<%= item.CountryCode %>">
                        <%= item.CountryCode %>
                    </option>
                <% }); %>
            <% } else { %>
                <option value="" disabled>No countries available</option>
            <% } %>
        </select>
        <button type="submit">Submit</button>
    </form>
</body>
</html>